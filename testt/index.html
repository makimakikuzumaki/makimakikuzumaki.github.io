<html>

<head>
	<meta charset="UTF-8">
	<title>イチジャグラー</title>
	<style>
		body {
			text-align: center;
			padding: 0;
			margin: 0;
			background-color: rgba(255, 8, 0, 0.849); /* 背景色を赤に設定 */
		}

		ul {
			list-style: none;
		}

		.slot {
			width: 600px;
			height: 500px;
			overflow: hidden;
			margin: auto;
			border: solid 1px #333;
			background-color: white; /* 背景色を赤に設定 */
		}

		.slot-frame {
			height: 500px;
			position: relative;
			overflow: hidden;
			border: solid 1px #333;
			width: 100%;
		}

		.reels {
			width: 31%;
			position: absolute;
		}

		.reels:nth-child(1) {
			left: 0;
		}

		.reels:nth-child(2) {
			left: 33%;
		}

		.reels:nth-child(3) {
			right: 0;
		}

		.reel {
			height: 270px;
		}

		.reel img {
			display: block;
			width: 89%;
			margin: auto;
		}
	</style>
</head>

<body>
	<h1>イチジャグラー</h1>
	<div class="slot">
		<div class="slot-frame">
			<ul class="reels">
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image1.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image2.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/ダウンロード (1).jfif"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image4.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image1.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image1.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image6.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image4.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image5.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image1.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image0.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image6.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image4.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image4.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image5.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image6.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/ダウンロード.jfif"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image2.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image1.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image2.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/ダウンロード (1).jfif"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/ダウンロード (1).jfif"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image5.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image2.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image4.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image1.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image1.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image6.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image4.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image5.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image1.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image0.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image6.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image4.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image4.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image5.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image6.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/ダウンロード.jfif"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image2.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image1.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image2.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/ダウンロード (1).jfif"></li>
			</ul>
			<ul class="reels">
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image3.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image1.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image6.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image0.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image6.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image4.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image4.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image5.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image6.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/ダウンロード.jfif"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image2.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image1.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image2.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/ダウンロード (1).jfif"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/ダウンロード (1).jfif"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image5.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image2.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image4.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image1.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image1.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image6.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image4.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image5.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image1.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image0.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image6.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image4.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image4.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image5.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image6.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/ダウンロード.jfif"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image2.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image1.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image2.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/ダウンロード (1).jfif"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/ダウンロード (1).jfif"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image5.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image2.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image4.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image3.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image1.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image6.jpeg"></li>
			</ul>
			<ul class="reels">
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image6.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image4.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image5.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image2.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image1.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image2.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/ダウンロード (1).jfif"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/ダウンロード (1).jfif"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image5.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image2.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image4.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image1.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image1.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image6.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image4.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image5.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image1.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image0.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image6.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image4.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image4.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image5.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image6.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/ダウンロード.jfif"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image2.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image1.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image2.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/ダウンロード (1).jfif"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/ダウンロード (1).jfif"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image5.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image2.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image4.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image1.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image1.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image6.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image4.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image5.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image1.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image0.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image6.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image4.jpeg"></li>
				<li class="reel"><img src="C:/Users/c2310tku/Pictures/image5.jpeg"></li>
			</ul>
		</div>
	</div>
	<div>
		<button type="button" class="btn-start">start</button>
		<button type="button" class="btn-reset" disabled="true">reset</button>
	</div>
	<div>
		<button type="button" class="btn-stop" data-val="0" disabled="true">stop 0</button>
		<button type="button" class="btn-stop" data-val="1" disabled="true">stop 1</button>
		<button type="button" class="btn-stop" data-val="2" disabled="true">stop 2</button>
	</div>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script>
		(function (global) {
			"use strict";

			/*
			 * スロットのリール回転速度(実行毎秒数)
			 */
			var sec = 80;

			/*
			 * スロットのリール情報
			 * ・スロットのリールelement
			 * ・スロットのリール停止フラグ
			 * ・スロットのリール回転数
			 */
			var $reels = [],
				stopReelFlag = [],
				reelCounts = [];

			/*
			 * 位置情報
			 */
			var slotFrameHeight = 0,
				slotReelsHeight = 0,
				slotReelItemHeight = 0,
				slotReelStart = 0,
				slotReelStartHeight = 0;

			/**
			 * スロット
			 */
			var Slot = {
				/**
				 * 初期化処理
				 */
				init: function init() {
					$reels[0] = $reels[1] = $reels[2] = null;
					stopReelFlag[0] = stopReelFlag[1] = stopReelFlag[2] = false;
					reelCounts[0] = reelCounts[1] = reelCounts[2] = 0;
				},
				/**
				 * スタートボタンのクリックイベント
				 */
				start: function () {
					for (var index = 0; index < 3; index++) {
						Slot.animation(index);
					}
				},
				/**
				 * ストップボタンのクリックイベント
				 */
				stop: function (index) {
					stopReelFlag[index] = true;
					if (stopReelFlag[0] && stopReelFlag[1] && stopReelFlag[2]) {
						// 全リール停止したらリセットボタンを押下できるようにする
						$('.btn-reset').attr('disabled', false);
					}
				},
				/**
				 * 位置情報の初期化処理
				 */
				resetLocationInfo: function () {
					slotFrameHeight = $('.slot-frame').outerHeight();
					slotReelsHeight = $('.reels').eq(0).outerHeight();
					slotReelItemHeight = $('.reel').eq(0).outerHeight();
					slotReelStart = 5 - 2;
					// リールの上下は、半分だけ表示させるための位置調整
					slotReelStartHeight = -slotReelsHeight;
					slotReelStartHeight = slotReelStartHeight + slotFrameHeight + ((slotReelItemHeight * 3 / 2) - (slotFrameHeight / 2));

					$('.reels').css({
						'top': slotReelStartHeight
					});
				},
				/**
				 * スロットの回転アニメーション
				 */
				animation: function (index) {
					console.log('アニメーション', '開始', index);
					if (reelCounts[index] == 39) {
						reelCounts[index] = 2;
					}

					console.log('slotReelStartHeight', slotReelStartHeight);
					console.log('reelCounts[index]', reelCounts[index]);
					console.log('slotReelsHeight', slotReelsHeight);
					console.log('top', slotReelStartHeight + (reelCounts[index] * slotReelItemHeight));

					if (reelCounts[index] == 38) {
						$('.reels').eq(index).css({
							'top': slotReelStartHeight + (1 * slotReelItemHeight)
						});

						// 移動階数をカウント
						reelCounts[index]++;
						// スロット回転のアニメーションを実行する
						Slot.animation(index);
					}
					else {
						$('.reels').eq(index).animate({
							'top': slotReelStartHeight + (reelCounts[index] * slotReelItemHeight)
						}, {
							duration: sec,
							easing: 'linear',
							complete: function () {

								console.log('アニメーション', '完了', index, reelCounts[index]);
								if (stopReelFlag[index]) {
									console.log('アニメーション', 'ストップ', index, reelCounts[index]);
									return;
								}

								// 移動階数をカウント
								reelCounts[index]++;
								// スロット回転のアニメーションを実行する
								Slot.animation(index);
							}
						});
					}
				},
			};

			global.Slot = Slot;

		})((this || 0).self || global);

		/**
		 * 読み込み後
		 */
		$(document).ready(function () {

			/*
			 * スロットの初期化処理を実行
			 */
			Slot.init();
			Slot.resetLocationInfo();

			/**
			 * スタートボタンのクリックイベント
			 */
			$('.btn-start').click(function () {
				// スタートボタンを押せないようにする
				$(this).attr('disabled', true);
				// スロットの回転を開始
				Slot.start();
				// ストップボタンを押せるようにする
				$('.btn-stop').attr('disabled', false);
			});

			/**
			 * リセットボタンのクリックイベント
			 */
			$('.btn-reset').click(function () {
				// リセットボタンを押せないようにするdaikonnwo 

				$(this).attr('disabled', true);
				// スタートボタンを押せるようにする
				$('.btn-start').attr('disabled', false);
				// ストップボタンを押せないようにする
				$('.btn-stop').attr('disabled', true);
				// スロットのリール情報を初期化
				Slot.init();
			});

			/**
			 * ストップボタンのクリックイベント
			 */
			$('.btn-stop').click(function () {
				// ストップボタンを押せないようにする
				$(this).attr('disabled', true);
				// レールの回転を停止
				Slot.stop($(this).attr('data-val'));
			});

		});
	</script>
</body>

</html>
